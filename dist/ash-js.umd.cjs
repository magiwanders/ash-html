(function(o,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(o=typeof globalThis<"u"?globalThis:o||self,i(o["ash-js"]={}))})(this,function(o){"use strict";function i(a){return new Promise(e=>setTimeout(e,a))}function d(a){return window.URL.createObjectURL(new Blob([a],{type:"text/javascript"}))}function u(a){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<a;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const p=`onmessage = (msg) => postMessage({result: self[msg.data.do](msg.data), ack: msg.data.id})
addFn = (args) => importScripts(args.script)
removeFn = (args) => self[args.name] = () => {}`;class m{constructor(){this._worker=new Worker(d(p)),this._worker.onmessage=e=>{console.log("RECEIVING <-",e.data),this._ack[e.data.ack]={received:1,result:e.data.result}},this._ack={}}async _postMessage(e){return new Promise(async(t,r)=>{let s=u(16);for(this._ack[s]={received:0,result:void 0},e.id=s,console.log("SENDING -> ",e),this._worker.postMessage(e);this._ack[s].received==0;)await i(1);let n=this._ack[s].result;delete this._ack[s],t(n)})}async addFn(e){return new Promise(async(t,r)=>{await this._postMessage({do:"addFn",script:d(e.toString())}),this[e.name]=async s=>{let n={do:e.name};for(let l in s)n[l]=s[l];return await this._postMessage(n)},t(1)})}async addCode(e){return new Promise(async(t,r)=>{await this._postMessage({do:"addFn",script:d(e)}),t()})}async removeFn(e){delete this[e]}}console.log("ash-js loaded correctly!");let c="_Object";window[c]=(a="",e={},t=[""])=>{var r=document.createElement(a);for(key in e)r.setAttribute(key,e[key]);return(typeof t=="string"||t[0]===void 0)&&(t=[t]),t.forEach(s=>{typeof s=="string"?r.appendChild(document.createTextNode(s)):r.appendChild(s)}),r},window._css=(a={})=>{let e="";for(let t in a)e+=`
`+t+": "+a[t]+";";return e};for(let a of["html","head","body","title","h1","h2","h3","h4","h5","h6","p","b","i","em","mark","small","strong","sub","sup","br","wbr","abbr","address","bdi","bdo","pre","u","blockquote","cite","code","q","rt","samp","del","s","ins","ruby","dfn","rp","kbd","meter","progress","template","time","form","input","textarea","button","fieldset","legend","datalist","output","label","select","optgroup","option","iframe","img","map","area","canvas","figure","picture","svg","figcaption","audio","source","track","video","a","link","nav","ul","ol","li","dl","dt","dd","table","caption","th","tr","td","thead","tbody","tfoot","col","colgroup","style","div","span","header","footer","main","section","article","aside","details","dialog","summary","data","meta","base","script","noscript","embed","object","param"])window["_"+a]=new Function("attributes","children","return "+c+'("'+a+'", attributes, children)');let f={wait:{ms:i}};o.DynamicWorker=m,o.ash=f,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
